{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/vk-gurukul-panel/src/components/PageHeading.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { ArrowLeft } from \"lucide-react\"\r\nimport { Button } from \"@/components/ui/button\"\r\n\r\ninterface PageHeadingProps {\r\n  title: string\r\n  onBack?: () => void\r\n  subtitle?: string\r\n  actions?: React.ReactNode\r\n}\r\n\r\nconst PageHeading: React.FC<PageHeadingProps> = ({ title, onBack, subtitle, actions }) => {\r\n  const router = useRouter()\r\n\r\n  // If onBack is not provided, use default router.back()\r\n  const handleBack = onBack || (() => router.back())\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between \">\r\n      <div className=\"flex items-center gap-3\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"icon\"\r\n          onClick={handleBack}\r\n          aria-label=\"Go Back\"\r\n          className=\"h-8 w-8 rounded-full\"\r\n        >\r\n          <ArrowLeft className=\"h-5 w-5\" />\r\n        </Button>\r\n        <div>\r\n          <h1 className=\"text-xl font-semibold text-gray-900\">{title}</h1>\r\n          {subtitle && <p className=\"text-sm text-gray-500\">{subtitle}</p>}\r\n        </div>\r\n      </div>\r\n      {actions && <div className=\"flex items-center gap-2\">{actions}</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageHeading\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAcA,MAAM,cAA0C,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE;IACnF,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,uDAAuD;IACvD,MAAM,aAAa,UAAU,CAAC,IAAM,OAAO,IAAI,EAAE;IAEjD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,kIAAA,CAAA,SAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,cAAW;wBACX,WAAU;kCAEV,cAAA,8OAAC,gNAAA,CAAA,YAAS;4BAAC,WAAU;;;;;;;;;;;kCAEvB,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;4BACpD,0BAAY,8OAAC;gCAAE,WAAU;0CAAyB;;;;;;;;;;;;;;;;;;YAGtD,yBAAW,8OAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAG5D;uCAEe","debugId":null}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/vk-gurukul-panel/src/services/AuthService.ts"],"sourcesContent":["export const getToken = (): string => {\r\n    return localStorage.getItem(\"TOKEN\") ?? \"\";\r\n};\r\n\r\nexport const refreshToken = (): string => {\r\n    return localStorage.getItem(\"REFRESH_TOKEN\") ?? \"\";\r\n};"],"names":[],"mappings":";;;;AAAO,MAAM,WAAW;IACpB,OAAO,aAAa,OAAO,CAAC,YAAY;AAC5C;AAEO,MAAM,eAAe;IACxB,OAAO,aAAa,OAAO,CAAC,oBAAoB;AACpD","debugId":null}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/vk-gurukul-panel/src/secret.ts"],"sourcesContent":["export const BASE_URL_SECRET = \"http://localhost:9595/api/v1\";\r\nexport const secret_key = \"vikkyalogoaesgurukulpanel\";"],"names":[],"mappings":";;;;AAAO,MAAM,kBAAkB;AACxB,MAAM,aAAa","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/vk-gurukul-panel/src/lib/AxiosUtils.ts"],"sourcesContent":["import axios, {\r\n  AxiosError,\r\n  AxiosInstance,\r\n  AxiosResponse,\r\n  InternalAxiosRequestConfig,\r\n  AxiosHeaders,\r\n} from \"axios\";\r\nimport { getToken } from \"@/services/AuthService\";\r\nimport { BASE_URL_SECRET } from \"@/secret\";\r\n\r\nconst BASE_URL = BASE_URL_SECRET;\r\n\r\nconst apiClient: AxiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  timeout: 10000,\r\n});\r\n\r\n// ----- Request interceptor -----\r\napiClient.interceptors.request.use(\r\n  (config: InternalAxiosRequestConfig) => {\r\n    const token = getToken();\r\n    if (token) {\r\n      if (config.headers instanceof AxiosHeaders) {\r\n        config.headers.set(\"Authorization\", `Bearer ${token}`);\r\n      } else if (typeof config.headers === \"object\" && config.headers !== null) {\r\n        (config.headers as Record<string, string>)[\"Authorization\"] = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error: AxiosError) => Promise.reject(error)\r\n);\r\n\r\n// ----- Response interceptor -----\r\napiClient.interceptors.response.use(\r\n  (response: AxiosResponse) => response,\r\n  async (error: AxiosError) => {\r\n    const { response, config } = error;\r\n\r\n    if (\r\n      response?.status === 401 &&\r\n      (response.data as any)?.message === \"Token Expired\" &&\r\n      config &&\r\n      !(config as any)._retry\r\n    ) {\r\n      try {\r\n        (config as any)._retry = true;\r\n\r\n        const refreshToken = localStorage.getItem(\"REFRESH_TOKEN\");\r\n        if (refreshToken) {\r\n          const refreshTokenPayload = { refreshToken };\r\n          const res = await apiClient.post(\"/auth/token\", refreshTokenPayload);\r\n\r\n          const { accessToken, refreshToken: newRefreshToken } = res.data;\r\n\r\n          // Store new tokens\r\n          localStorage.setItem(\"TOKEN\", accessToken);\r\n          localStorage.setItem(\"REFRESH_TOKEN\", newRefreshToken);\r\n\r\n          // Update Authorization header safely\r\n          if (config.headers instanceof AxiosHeaders) {\r\n            config.headers.set(\"Authorization\", `Bearer ${accessToken}`);\r\n          } else if (typeof config.headers === \"object\" && config.headers !== null) {\r\n            (config.headers as Record<string, string>)[\"Authorization\"] = `Bearer ${accessToken}`;\r\n          }\r\n\r\n          return apiClient(config);\r\n        }\r\n      } catch (refreshError) {\r\n        console.error(\"Token refresh failed:\", refreshError);\r\n      }\r\n    }\r\n    else if (response?.status === 401 &&\r\n      (response.data as any)?.detail === \"Invalid Refresh Token\" &&\r\n      config &&\r\n      !(config as any)._retry) {\r\n        window.location.href=\"/auth/login\"\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;\r\n"],"names":[],"mappings":";;;AAAA;AAAA;AAOA;AACA;;;;AAEA,MAAM,WAAW,6GAAA,CAAA,kBAAe;AAEhC,MAAM,YAA2B,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC5C,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;AAEA,kCAAkC;AAClC,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,MAAM,QAAQ,CAAA,GAAA,8HAAA,CAAA,WAAQ,AAAD;IACrB,IAAI,OAAO;QACT,IAAI,OAAO,OAAO,YAAY,8IAAA,CAAA,eAAY,EAAE;YAC1C,OAAO,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;QACvD,OAAO,IAAI,OAAO,OAAO,OAAO,KAAK,YAAY,OAAO,OAAO,KAAK,MAAM;YACvE,OAAO,OAAO,AAA2B,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;QACjF;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAsB,QAAQ,MAAM,CAAC;AAGxC,mCAAmC;AACnC,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,WAA4B,UAC7B,OAAO;IACL,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG;IAE7B,IACE,UAAU,WAAW,OACrB,AAAC,SAAS,IAAI,EAAU,YAAY,mBACpC,UACA,CAAC,AAAC,OAAe,MAAM,EACvB;QACA,IAAI;YACD,OAAe,MAAM,GAAG;YAEzB,MAAM,eAAe,aAAa,OAAO,CAAC;YAC1C,IAAI,cAAc;gBAChB,MAAM,sBAAsB;oBAAE;gBAAa;gBAC3C,MAAM,MAAM,MAAM,UAAU,IAAI,CAAC,eAAe;gBAEhD,MAAM,EAAE,WAAW,EAAE,cAAc,eAAe,EAAE,GAAG,IAAI,IAAI;gBAE/D,mBAAmB;gBACnB,aAAa,OAAO,CAAC,SAAS;gBAC9B,aAAa,OAAO,CAAC,iBAAiB;gBAEtC,qCAAqC;gBACrC,IAAI,OAAO,OAAO,YAAY,8IAAA,CAAA,eAAY,EAAE;oBAC1C,OAAO,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,aAAa;gBAC7D,OAAO,IAAI,OAAO,OAAO,OAAO,KAAK,YAAY,OAAO,OAAO,KAAK,MAAM;oBACvE,OAAO,OAAO,AAA2B,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,aAAa;gBACvF;gBAEA,OAAO,UAAU;YACnB;QACF,EAAE,OAAO,cAAc;YACrB,QAAQ,KAAK,CAAC,yBAAyB;QACzC;IACF,OACK,IAAI,UAAU,WAAW,OAC5B,AAAC,SAAS,IAAI,EAAU,WAAW,2BACnC,UACA,CAAC,AAAC,OAAe,MAAM,EAAE;QACvB,OAAO,QAAQ,CAAC,IAAI,GAAC;IACzB;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Administrator/Documents/vk-gurukul-panel/src/app/secured/admin/users/page.tsx"],"sourcesContent":["\"use client\"\r\nimport React, { useEffect, useState } from 'react'\r\nimport PageHeading from '@/components/PageHeading'\r\nimport axios from 'axios'\r\nimport apiClient from '@/lib/AxiosUtils'\r\n\r\nconst UsersPage = () => {\r\n  const [users, setUsers] = useState<any[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [page, setPage] = useState(0)\r\n  const [totalPages, setTotalPages] = useState(1)\r\n\r\n  const fetchUsers = async (currentPage: number) => {\r\n    setLoading(true)\r\n    try {\r\n      const res = await apiClient.get(`/user/all-users?page=${currentPage}&size=10&sortBy=userRegDate&sortDir=desc&type=ALL`)\r\n      setUsers(res.data.result || [])\r\n      setTotalPages(res.data.pagination?.totalPages || 1)\r\n    } catch (error) {\r\n      console.error('Failed to fetch users:', error)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchUsers(page)\r\n  }, [page])\r\n\r\n  return (\r\n    <div className='p-4'>\r\n      <PageHeading title='All Users' />\r\n      <div className='mt-4'>\r\n        {loading ? (\r\n          <div className='text-center'>Loading users...</div>\r\n        ) : (\r\n          <div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4'>\r\n            {users.map((user) => (\r\n              <div\r\n                key={user.userId}\r\n                className='p-4 border border-gray-300 rounded-lg shadow-sm bg-white space-y-2'\r\n              >\r\n                <div className='font-semibold text-gray-800'>{user.userEmail}</div>\r\n                <div className='text-sm text-gray-600'>Mobile: {user.mobileNo}</div>\r\n                <div className='text-sm text-gray-600'>Registered: {user.userRegDate}</div>\r\n                <div className='text-sm'>\r\n                  Roles: {user.userRoles.map((ur: any) => ur.roles.roleTitle).join(', ')}\r\n                </div>\r\n                <div className='text-sm'>\r\n                  Status:{' '}\r\n                  <span className={user.enabled ? 'text-green-600' : 'text-red-600'}>\r\n                    {user.enabled ? 'Enabled' : 'Disabled'}\r\n                  </span>{' '}\r\n                  |{' '}\r\n                  <span className={user.deleted ? 'text-red-500' : 'text-green-500'}>\r\n                    {user.deleted ? 'Deleted' : 'Active'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Pagination */}\r\n      <div className='flex justify-center mt-6 space-x-2'>\r\n        <button\r\n          onClick={() => setPage((p) => Math.max(0, p - 1))}\r\n          disabled={page === 0}\r\n          className='px-4 py-2 bg-gray-200 rounded disabled:opacity-50'\r\n        >\r\n          Previous\r\n        </button>\r\n        <span className='self-center text-sm'>\r\n          Page {page + 1} of {totalPages}\r\n        </span>\r\n        <button\r\n          onClick={() => setPage((p) => Math.min(totalPages - 1, p + 1))}\r\n          disabled={page + 1 >= totalPages}\r\n          className='px-4 py-2 bg-gray-200 rounded disabled:opacity-50'\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersPage\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AAJA;;;;;AAMA,MAAM,YAAY;IAChB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,aAAa,OAAO;QACxB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,MAAM,wHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,qBAAqB,EAAE,YAAY,iDAAiD,CAAC;YACtH,SAAS,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE;YAC9B,cAAc,IAAI,IAAI,CAAC,UAAU,EAAE,cAAc;QACnD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;QAC1C,SAAU;YACR,WAAW;QACb;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;IACb,GAAG;QAAC;KAAK;IAET,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iIAAA,CAAA,UAAW;gBAAC,OAAM;;;;;;0BACnB,8OAAC;gBAAI,WAAU;0BACZ,wBACC,8OAAC;oBAAI,WAAU;8BAAc;;;;;6EAE7B,8OAAC;oBAAI,WAAU;8BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;4BAEC,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CAA+B,KAAK,SAAS;;;;;;8CAC5D,8OAAC;oCAAI,WAAU;;wCAAwB;wCAAS,KAAK,QAAQ;;;;;;;8CAC7D,8OAAC;oCAAI,WAAU;;wCAAwB;wCAAa,KAAK,WAAW;;;;;;;8CACpE,8OAAC;oCAAI,WAAU;;wCAAU;wCACf,KAAK,SAAS,CAAC,GAAG,CAAC,CAAC,KAAY,GAAG,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC;;;;;;;8CAEnE,8OAAC;oCAAI,WAAU;;wCAAU;wCACf;sDACR,8OAAC;4CAAK,WAAW,KAAK,OAAO,GAAG,mBAAmB;sDAChD,KAAK,OAAO,GAAG,YAAY;;;;;;wCACtB;wCAAI;wCACV;sDACF,8OAAC;4CAAK,WAAW,KAAK,OAAO,GAAG,iBAAiB;sDAC9C,KAAK,OAAO,GAAG,YAAY;;;;;;;;;;;;;2BAhB3B,KAAK,MAAM;;;;;;;;;;;;;;;0BA0B1B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,QAAQ,CAAC,IAAM,KAAK,GAAG,CAAC,GAAG,IAAI;wBAC9C,UAAU,SAAS;wBACnB,WAAU;kCACX;;;;;;kCAGD,8OAAC;wBAAK,WAAU;;4BAAsB;4BAC9B,OAAO;4BAAE;4BAAK;;;;;;;kCAEtB,8OAAC;wBACC,SAAS,IAAM,QAAQ,CAAC,IAAM,KAAK,GAAG,CAAC,aAAa,GAAG,IAAI;wBAC3D,UAAU,OAAO,KAAK;wBACtB,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAMT;uCAEe","debugId":null}}]
}